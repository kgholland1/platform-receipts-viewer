{"version":3,"file":"js/456.05191adf.js","mappings":"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","sources":["webpack://vaxo/./src/stores/agency.ts","webpack://vaxo/./src/components/Settings/AccountSettings/KeySettings.vue?3051","webpack://vaxo/./src/components/Settings/AccountSettings/KeySettings.vue","webpack://vaxo/./src/pages/Setting/APIKeyPage.vue?6794","webpack://vaxo/./src/pages/Setting/APIKeyPage.vue"],"sourcesContent":["import { ref } from \"vue\";\r\nimport { defineStore } from \"pinia\";\r\nimport { authApi } from \"@/plugins/axios\";\r\nimport type { CustomAxiosRequestConfig } from \"@/plugins/axios\";\r\nimport type { ApiResult } from \"@/types/auth\";\r\nimport type { Agency, APIKey } from \"@/types/agency\";\r\n\r\nexport const useAgencyStore = defineStore(\"agency\", () => {\r\n  const error = ref<Error | null>(null);\r\n  const agencies = ref<Agency[]>([]);\r\n  const apiKey = ref<APIKey | null>(null);\r\n\r\n  const getAgenciesSettings = async (): Promise<ApiResult> => {\r\n    try {\r\n      error.value = null;\r\n      const response = await authApi.get(\r\n        `/api/platformreceipts/agency-additional-fields`,\r\n        { showLoader: true } as CustomAxiosRequestConfig\r\n      );\r\n\r\n      if (response.status === 200) {\r\n        agencies.value = response.data;\r\n        return { success: true };\r\n      }\r\n      return { success: false };\r\n    } catch (err) {\r\n      error.value =\r\n        err instanceof Error\r\n          ? err\r\n          : new Error(\"Failed to load agency settings\");\r\n      console.log(err);\r\n      return { success: false };\r\n    }\r\n  };\r\n\r\n  const fetchAPIKey = async (): Promise<ApiResult> => {\r\n    try {\r\n      error.value = null;\r\n      const response = await authApi.get(`/api/agencies/APIkey`, {\r\n        showLoader: true,\r\n      } as CustomAxiosRequestConfig);\r\n\r\n      if (response.status === 200) {\r\n        apiKey.value = response.data;\r\n        return { success: true };\r\n      }\r\n      return { success: false };\r\n    } catch (err) {\r\n      error.value =\r\n        err instanceof Error ? err : new Error(\"Failed to load API Key\");\r\n      console.log(err);\r\n      return { success: false };\r\n    }\r\n  };\r\n\r\n  const generateAPIKey = async (): Promise<ApiResult> => {\r\n    try {\r\n      error.value = null;\r\n      const response = await authApi.post(`/api/agencies/generateAPIkey`, {\r\n        showLoader: true,\r\n      } as CustomAxiosRequestConfig);\r\n\r\n      if (response.status === 200) {\r\n        apiKey.value = response.data;\r\n        return { success: true };\r\n      }\r\n      return { success: false };\r\n    } catch (err) {\r\n      error.value =\r\n        err instanceof Error ? err : new Error(\"Failed to load API Key\");\r\n      console.log(err);\r\n      return { success: false };\r\n    }\r\n  };\r\n\r\n  return {\r\n    error,\r\n    agencies,\r\n    apiKey,\r\n    getAgenciesSettings,\r\n    fetchAPIKey,\r\n    generateAPIKey\r\n  };\r\n});\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, unref as _unref, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"card border-0 box-shadow border-radius-10 mb-5\" }\nconst _hoisted_2 = { class: \"card-body p-30\" }\nconst _hoisted_3 = { class: \"mb-5\" }\nconst _hoisted_4 = { class: \"form-group mb-3\" }\nconst _hoisted_5 = [\"value\"]\nconst _hoisted_6 = { class: \"form-group mb-4\" }\nconst _hoisted_7 = { class: \"label fs-14 text-secondary\" }\nconst _hoisted_8 = { class: \"text-bold\" }\n\nimport { useAgencyStore } from \"@/stores/agency\"\r\nimport { storeToRefs } from \"pinia\"\r\nimport type { ApiResult } from \"@/types/auth\"\r\nimport { formatDate } from \"@/utils/helper\"\r\nimport Swal from \"sweetalert2\"\r\nimport 'sweetalert2/src/sweetalert2.scss'\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'KeySettings',\n  setup(__props) {\n\r\n\r\nconst { fetchAPIKey, generateAPIKey } = useAgencyStore()\r\nconst { apiKey } = storeToRefs(useAgencyStore())\r\n\r\nfetchAPIKey()\r\n\r\nconst generateKey = () => {\r\n  Swal.fire({\r\n    title: 'Are you sure you want to generate a new API key?',\r\n    icon: 'warning',\r\n    showCancelButton: true,\r\n    confirmButtonText: 'Yes',\r\n    cancelButtonText: 'No'\r\n  }).then(async (result) => {\r\n    if (result.isConfirmed) {\r\n      const response: ApiResult = await generateAPIKey()\r\n      if (response.success) {\r\n        Swal.fire({\r\n          toast: true,\r\n          position: 'top-end',\r\n          icon: 'success',\r\n          title: 'Receipt is generated successfully',\r\n          showConfirmButton: false,\r\n          timer: 3000,\r\n          timerProgressBar: true\r\n        })\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _cache[2] || (_cache[2] = _createElementVNode(\"div\", { class: \"mb-4\" }, [\n        _createElementVNode(\"h4\", { class: \"fs-20 fw-semibold mb-2\" }, \"API Access Keys\"),\n        _createElementVNode(\"p\", { class: \"fs-14 text-body\" }, \" Keys you have generated that can be used to access E-GCR API. \")\n      ], -1)),\n      _createElementVNode(\"form\", _hoisted_3, [\n        _createElementVNode(\"div\", _hoisted_4, [\n          _cache[0] || (_cache[0] = _createElementVNode(\"label\", { class: \"label\" }, \"API Key\", -1)),\n          _createElementVNode(\"input\", {\n            type: \"text text-bold fs-18\",\n            class: \"form-control\",\n            disabled: \"\",\n            value: _unref(apiKey)?.key\n          }, null, 8, _hoisted_5)\n        ]),\n        _createElementVNode(\"div\", _hoisted_6, [\n          _createElementVNode(\"label\", _hoisted_7, [\n            _cache[1] || (_cache[1] = _createTextVNode(\"Created on \", -1)),\n            _createElementVNode(\"span\", _hoisted_8, _toDisplayString(_unref(apiKey)?.created ?\r\n            _unref(formatDate)(_unref(apiKey).created) : ''), 1)\n          ])\n        ]),\n        _createElementVNode(\"div\", { class: \"form-group mb-5\" }, [\n          _createElementVNode(\"button\", {\n            type: \"button\",\n            class: \"default-btn\",\n            onClick: generateKey\n          }, \" Generate new key \")\n        ])\n      ])\n    ])\n  ]))\n}\n}\n\n})","import script from \"./KeySettings.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./KeySettings.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"container-fluid\" }\nconst _hoisted_2 = { class: \"inner-main-content\" }\n\nimport KeySettings from \"../../components/Settings/AccountSettings/KeySettings.vue\";\r\nimport MainFooter from \"../../components/Layouts/MainFooter.vue\";\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'APIKeyPage',\n  setup(__props) {\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _cache[0] || (_cache[0] = _createElementVNode(\"div\", { class: \"card-title d-flex justify-content-between align-items-center mb-3\" }, [\n        _createElementVNode(\"h3\", { class: \"fw-medium fs-18 mb-0\" }, \"API Keys\")\n      ], -1)),\n      _createVNode(KeySettings),\n      _createVNode(MainFooter)\n    ])\n  ]))\n}\n}\n\n})","import script from \"./APIKeyPage.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./APIKeyPage.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["useAgencyStore","defineStore","error","ref","agencies","apiKey","getAgenciesSettings","async","value","response","authApi","get","showLoader","status","data","success","err","Error","console","log","fetchAPIKey","generateAPIKey","post","_hoisted_1","class","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_defineComponent","__name","setup","__props","storeToRefs","generateKey","Swal","title","icon","showCancelButton","confirmButtonText","cancelButtonText","then","result","isConfirmed","toast","position","showConfirmButton","timer","timerProgressBar","_ctx","_cache","_openBlock","_createElementBlock","_createElementVNode","type","disabled","_unref","key","_createTextVNode","_toDisplayString","created","formatDate","onClick","__exports__","_createVNode","KeySettings","MainFooter"],"sourceRoot":""}