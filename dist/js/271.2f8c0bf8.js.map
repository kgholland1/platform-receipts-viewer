{"version":3,"file":"js/271.2f8c0bf8.js","mappings":"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","sources":["webpack://paq/./src/stores/agency.ts","webpack://paq/./src/components/Settings/AccountSettings/FieldSettings.vue?4de9","webpack://paq/./src/components/Settings/AccountSettings/FieldSettings.vue","webpack://paq/./src/pages/Setting/AccountSettingsPage.vue?03a0","webpack://paq/./src/pages/Setting/AccountSettingsPage.vue"],"sourcesContent":["import { ref } from \"vue\";\r\nimport { defineStore } from \"pinia\";\r\nimport { authApi } from \"@/plugins/axios\";\r\nimport type { CustomAxiosRequestConfig } from \"@/plugins/axios\";\r\nimport type { ApiResult } from \"@/types/auth\";\r\nimport type { Agency, APIKey } from \"@/types/agency\";\r\n\r\nexport const useAgencyStore = defineStore(\"agency\", () => {\r\n  const error = ref<Error | null>(null);\r\n  const agencies = ref<Agency[]>([]);\r\n  const apiKey = ref<APIKey | null>(null);\r\n\r\n  const getAgenciesSettings = async (): Promise<ApiResult> => {\r\n    try {\r\n      error.value = null;\r\n      const response = await authApi.get(\r\n        `/api/platformreceipts/agency-additional-fields`,\r\n        { showLoader: true } as CustomAxiosRequestConfig\r\n      );\r\n\r\n      if (response.status === 200) {\r\n        agencies.value = response.data;\r\n        return { success: true };\r\n      }\r\n      return { success: false };\r\n    } catch (err) {\r\n      error.value =\r\n        err instanceof Error\r\n          ? err\r\n          : new Error(\"Failed to load agency settings\");\r\n      console.log(err);\r\n      return { success: false };\r\n    }\r\n  };\r\n\r\n  const fetchAPIKey = async (): Promise<ApiResult> => {\r\n    try {\r\n      error.value = null;\r\n      const response = await authApi.get(`/api/agencies/APIkey`, {\r\n        showLoader: true,\r\n      } as CustomAxiosRequestConfig);\r\n\r\n      if (response.status === 200) {\r\n        apiKey.value = response.data;\r\n        return { success: true };\r\n      }\r\n      return { success: false };\r\n    } catch (err) {\r\n      error.value =\r\n        err instanceof Error ? err : new Error(\"Failed to load API Key\");\r\n      console.log(err);\r\n      return { success: false };\r\n    }\r\n  };\r\n\r\n  const generateAPIKey = async (): Promise<ApiResult> => {\r\n    try {\r\n      error.value = null;\r\n      const response = await authApi.post(`/api/agencies/generateAPIkey`, {\r\n        showLoader: true,\r\n      } as CustomAxiosRequestConfig);\r\n\r\n      if (response.status === 200) {\r\n        apiKey.value = response.data;\r\n        return { success: true };\r\n      }\r\n      return { success: false };\r\n    } catch (err) {\r\n      error.value =\r\n        err instanceof Error ? err : new Error(\"Failed to load API Key\");\r\n      console.log(err);\r\n      return { success: false };\r\n    }\r\n  };\r\n\r\n  return {\r\n    error,\r\n    agencies,\r\n    apiKey,\r\n    getAgenciesSettings,\r\n    fetchAPIKey,\r\n    generateAPIKey\r\n  };\r\n});\r\n","import { defineComponent as _defineComponent } from 'vue'\nimport { unref as _unref, createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, createCommentVNode as _createCommentVNode } from \"vue\"\n\nconst _hoisted_1 = { class: \"card border-0 box-shadow border-radius-10 mb-5\" }\nconst _hoisted_2 = { class: \"card-body p-4\" }\nconst _hoisted_3 = {\n  key: 0,\n  class: \"all-table scroll-bar h-524\"\n}\nconst _hoisted_4 = { class: \"table align-middle mb-5\" }\nconst _hoisted_5 = { class: \"ps-0\" }\nconst _hoisted_6 = { class: \"text-start text-dark\" }\nconst _hoisted_7 = { class: \"d-block text-dark\" }\nconst _hoisted_8 = {\n  key: 0,\n  class: \"mb-3\"\n}\nconst _hoisted_9 = { class: \"col-6 text-dark\" }\nconst _hoisted_10 = { class: \"col-6 text-end\" }\n\nimport { useAgencyStore } from \"@/stores/agency\"\r\nimport { storeToRefs } from \"pinia\"\r\nimport type { AdditionalField } from \"@/types/agency\"\r\n\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'FieldSettings',\n  setup(__props) {\n\r\n\r\nconst { getAgenciesSettings } = useAgencyStore()\r\nconst { agencies } = storeToRefs(useAgencyStore())\r\n\r\ngetAgenciesSettings()\r\n\r\nconst getUniqueFields = (fields: AdditionalField[]): AdditionalField[] => {\r\n  const seen = new Map<string, AdditionalField>();\r\n  fields.forEach(field => {\r\n    if (!seen.has(field.fieldName)) {\r\n      seen.set(field.fieldName, field);\r\n    }\r\n  });\r\n  return Array.from(seen.values());\r\n};\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      (!!_unref(agencies).length)\n        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [\n            _createElementVNode(\"table\", _hoisted_4, [\n              _cache[1] || (_cache[1] = _createElementVNode(\"thead\", null, [\n                _createElementVNode(\"tr\", null, [\n                  _createElementVNode(\"th\", {\n                    class: \"text-dark fw-medium pt-0 pb-2 fs-14 ps-0\",\n                    scope: \"col-3\"\n                  }, \" Name \"),\n                  _createElementVNode(\"th\", {\n                    class: \"text-dark fw-medium pt-0 pb-2 fs-14\",\n                    scope: \"col-3\"\n                  }, \" Receipt Type \"),\n                  _createElementVNode(\"th\", {\n                    class: \"text-dark fw-medium pt-0 pb-2 fs-14\",\n                    scope: \"col-6\"\n                  }, \" Additional Fields \")\n                ])\n              ], -1)),\n              _createElementVNode(\"tbody\", null, [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_unref(agencies), (agency) => {\n                  return (_openBlock(), _createElementBlock(\"tr\", {\n                    key: agency.agencyId\n                  }, [\n                    _createElementVNode(\"td\", _hoisted_5, [\n                      _createElementVNode(\"span\", _hoisted_6, _toDisplayString(agency.name), 1)\n                    ]),\n                    _createElementVNode(\"td\", null, [\n                      _createElementVNode(\"span\", _hoisted_7, _toDisplayString(agency.receiptType), 1)\n                    ]),\n                    _createElementVNode(\"td\", null, [\n                      (agency.additionalFields.length > 0)\n                        ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [\n                            _cache[0] || (_cache[0] = _createElementVNode(\"div\", { class: \"row fw-medium text-secondary small mb-1\" }, [\n                              _createElementVNode(\"div\", { class: \"col-6\" }, \"Field Name\"),\n                              _createElementVNode(\"div\", { class: \"col-6 text-end\" }, \"Required\")\n                            ], -1)),\n                            (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(getUniqueFields(agency.additionalFields), (field, index) => {\n                              return (_openBlock(), _createElementBlock(\"div\", {\n                                key: index,\n                                class: \"row small py-1\"\n                              }, [\n                                _createElementVNode(\"div\", _hoisted_9, _toDisplayString(field.fieldName), 1),\n                                _createElementVNode(\"div\", _hoisted_10, [\n                                  _createElementVNode(\"span\", {\n                                    class: _normalizeClass([field.fieldIsRequired ? 'text-success' : 'text-danger', \"fw-medium\"])\n                                  }, _toDisplayString(field.fieldIsRequired ? 'Yes' : 'No'), 3)\n                                ])\n                              ]))\n                            }), 128))\n                          ]))\n                        : _createCommentVNode(\"\", true)\n                    ])\n                  ]))\n                }), 128))\n              ])\n            ])\n          ]))\n        : _createCommentVNode(\"\", true)\n    ])\n  ]))\n}\n}\n\n})","import script from \"./FieldSettings.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./FieldSettings.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { defineComponent as _defineComponent } from 'vue'\nimport { createElementVNode as _createElementVNode, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"container-fluid\" }\nconst _hoisted_2 = { class: \"inner-main-content\" }\n\nimport FieldSettings from \"../../components/Settings/AccountSettings/FieldSettings.vue\";\r\nimport MainFooter from \"../../components/Layouts/MainFooter.vue\";\r\n\nexport default /*@__PURE__*/_defineComponent({\n  __name: 'AccountSettingsPage',\n  setup(__props) {\n\r\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createElementVNode(\"div\", _hoisted_2, [\n      _cache[0] || (_cache[0] = _createElementVNode(\"div\", { class: \"card-title d-flex justify-content-between align-items-center mb-3\" }, [\n        _createElementVNode(\"h3\", { class: \"fw-medium fs-18 mb-0\" }, \"Agency Details\")\n      ], -1)),\n      _createVNode(FieldSettings),\n      _createVNode(MainFooter)\n    ])\n  ]))\n}\n}\n\n})","import script from \"./AccountSettingsPage.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./AccountSettingsPage.vue?vue&type=script&setup=true&lang=ts\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"names":["useAgencyStore","defineStore","error","ref","agencies","apiKey","getAgenciesSettings","async","value","response","authApi","get","showLoader","status","data","success","err","Error","console","log","fetchAPIKey","generateAPIKey","post","_hoisted_1","class","_hoisted_2","_hoisted_3","key","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_defineComponent","__name","setup","__props","storeToRefs","getUniqueFields","fields","seen","Map","forEach","field","has","fieldName","set","Array","from","values","_ctx","_cache","_openBlock","_createElementBlock","_createElementVNode","_unref","length","scope","_Fragment","_renderList","agency","agencyId","_toDisplayString","name","receiptType","additionalFields","index","_normalizeClass","fieldIsRequired","_createCommentVNode","__exports__","_createVNode","FieldSettings","MainFooter"],"sourceRoot":""}